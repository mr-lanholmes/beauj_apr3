<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>
		<h1>Customer Query</h1>
		<h:form>

			Customer id:
			<h:inputText value="#{queryView.customerId}"/>

			<h:commandButton value="Search" action="#{queryView.query()}"/>

			<h:panelGrid columns="2" rendered="#{not empty queryView.customer}">
				Name:
				<h:outputText value="#{queryView.customer.name}"/>

				Address 1:
				<h:outputText value="#{queryView.customer.addressline1}"/>

				Address 2:
				<h:outputText value="#{queryView.customer.addressline2}"/>

				City:
				<h:outputText value="#{queryView.customer.city}"/>

				State:
				<h:outputText value="#{queryView.customer.state}"/>

			</h:panelGrid>

			<h2>Purchase Orders</h2>

			<h:dataTable var="po" value="#{queryView.customer.purchaseOrder}">
				<h:column>
					<f:facet name="header">PO number</f:facet>
					#{po.orderNumber}
				</h:column>
				<h:column>
					<f:facet name="header">Freight</f:facet>
					#{po.freightCompany}
				</h:column>

				<h:column>
					<f:facet name="header">Quantity</f:facet>
					#{po.quantity}
				</h:column>
			</h:dataTable>
			
		</h:form>
    </h:body>
</html>

